domain: credits
name: balance

entity:
  schema:
    properties:
      user: string
      balance: integer

bindings: ['@kookaburra/bindings.amqp']

operations:
  - name: deduce
    input:
      properties:
        user: string
        amount: integer
      required: [user, amount]
    output:
      properties:
        balance: integer
