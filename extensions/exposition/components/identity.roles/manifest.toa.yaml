namespace: identity
name: roles

entity:
  schema:
    identity*: string
    role*: string

operations:
  transit:
    query: false
    input:
      identity*: string
      role*: string
  list:
    output: [string]
  principal:
    input:
      id: string

receivers:
  identity.basic.principal: principal

exposition:
  isolated: true
  /:identity:
    auth:role: system:identity:roles
    POST:
      io:output: [id]
      endpoint: transit
    GET:
      io:output: true # array of strings
      auth:id: identity
      endpoint: list
