domain: teapots

state:
  name: teapots
  schema:
    properties:
      name:
        type: string
      volume:
        type: number
      material:
        type: string
        enum: [ glass, metal ]
    required: [ name, volume ]
  collection:
    limit:
      default: 10
      max: 100
    omit: 1000
    sort: name:asc
    projection: [ name ]
  object:
    projection: [ name, volume, material ]

operations:
  add: ~
  update:
    template: ~
    schema:
      properties:
        name: ~
  list:
    template: find
    http:
      - path: /
      - /{test:name==test}
      - /{not-test:name!=test}
  get:
    template:
      package: '@kookaburra/templates'
      operation: get
    http: /{_id}
  boil:
    schema:
      properties:
        interval: number
