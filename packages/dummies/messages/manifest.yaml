domain: messages
name: messages

entity:
  schema:
    dynamicDefaults:
      timestamp: timestamp
    properties:
      text: string
      timestamp: integer

operations:
  - name: add
    input:
      properties:
        text: string
      required: [text]
    output:
      properties:
        id: string
      required: [id]
  - name: get
    output:
      type: object
      properties:
        id: string
        text: string
        timestamp: integer
      required: [id, text]
  - name: update
    input:
      properties:
        text: string
      required: [text]
  - name: find
    output:
      properties:
        messages: array
