domain: messages
transport: amqp

state:
  schema:
    properties:
      sender: string
      recipient: string
      text: string
      status:
        type: string
        enum: [ pending, sent, received, seen ]
        defaut: pending

operations:
  find:
    template: ~
  send:
    http: /
    schema:
      properties:
        sender: ~
        recipient: ~
        text: ~
      required: [ sender, recipient, text ]

remotes:
  - ../credits.accounts
