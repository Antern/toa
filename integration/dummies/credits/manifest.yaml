domain: credits
name: balance

entity:
  schema:
    properties:
      user: string
      balance: integer

operations:
  deduce:
    input:
      properties:
        amount: integer
      required: [amount]
    output:
      properties:
        balance: integer

events:
  empty:
    binding: '@amqp'
